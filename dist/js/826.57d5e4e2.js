"use strict";(self["webpackChunkshopping"]=self["webpackChunkshopping"]||[]).push([[826],{7826:function(t,s,o){o.r(s),o.d(s,{default:function(){return l}});o(560);var r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"search"},[s("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",value:t.querySearch||"搜索商品","show-action":""},on:{click:function(s){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[s("van-icon",{staticClass:"tool",attrs:{name:"apps-o"}})]},proxy:!0}])}),s("div",{staticClass:"sort-btns"},[s("div",{staticClass:"sort-item",on:{click:function(s){return t.goodsSort()}}},[t._v("综合")]),s("div",{staticClass:"sort-item",on:{click:function(s){return t.goodsSort("sales",t.salesSort)}}},[t._v("销量")]),s("div",{staticClass:"sort-item",on:{click:function(s){return t.goodsSort("price",t.priceSort)}}},[t._v("价格")])]),s("div",{staticClass:"goods-list"},t._l(t.proList,(function(t){return s("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)],1)},e=[],a=o(5532),i=o(1787),n={name:"SearchIndex",components:{GoodsItem:a.Z},data(){return{page:1,proList:[],salesSort:"0",priceSort:"1"}},computed:{querySearch(){return this.$route.query.search}},async created(){const{data:{list:{data:t}}}=await(0,i.Fs)({categoryId:this.$route.query.categoryId,goodsName:this.querySearch,page:this.page});this.proList=t},methods:{async goodsSort(t="all",s){const{data:{list:{data:o}}}=await(0,i.Fs)({categoryId:this.$route.query.categoryId,sortType:t,sortPrice:s,goodsName:this.querySearch,page:this.page});"sales"===t?(this.salesSort="1"===s?"0":"1",this.priceSort="1"):"price"===t?(this.priceSort="1"===s?"0":"1",this.salesSort="0"):(this.salesSort="0",this.priceSort="1"),this.proList=o}}},c=n,u=o(1001),d=(0,u.Z)(c,r,e,!1,null,"79c991ad",null),l=d.exports},1787:function(t,s,o){o.d(s,{Aw:function(){return a},Fs:function(){return e},U3:function(){return i}});var r=o(4471);const e=t=>{const{categoryId:s,goodsName:o,page:e,sortType:a,sortPrice:i}=t;return r.Z.get("/goods/list",{params:{sortType:a,sortPrice:i,categoryId:s,goodsName:o,page:e}})},a=t=>r.Z.get("/goods/detail",{params:{goodsId:t}}),i=(t,s)=>r.Z.get("/comment/listRows",{params:{goodsId:t,limit:s}})}}]);
//# sourceMappingURL=826.57d5e4e2.js.map